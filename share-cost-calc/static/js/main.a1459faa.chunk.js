(this["webpackJsonpshare-cost-calc"]=this["webpackJsonpshare-cost-calc"]||[]).push([[0],{18:function(t,e,n){},19:function(t,e,n){},20:function(t,e,n){},21:function(t,e,n){},22:function(t,e,n){},23:function(t,e,n){},24:function(t,e,n){},25:function(t,e,n){},26:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n(1),o=n.n(c),r=n(10),i=n.n(r),s=(n(18),n(3)),u=n(2),l=n(4);n(19);function f(t){var e=t.className,n=t.items,o=t.updateItems,r=Object(c.useState)([]),i=Object(u.a)(r,2),s=i[0],f=i[1];Object(c.useEffect)((function(){JSON.stringify(n)!==JSON.stringify(s)&&f(Object(l.a)(n))}),[n]),Object(c.useEffect)((function(){o(s)}),[s]);var b=function(t){var n=t.currentTarget.parentElement.querySelector(".".concat(e,"__item-text")).textContent.trim(),a=s.filter((function(t){return t!==n}));f(Object(l.a)(a))};return Object(a.jsx)("ul",{className:e,children:s.map((function(t){return Object(a.jsxs)("li",{className:"".concat(e,"__item"),children:[Object(a.jsx)("div",{className:"".concat(e,"__item-text"),children:t}),Object(a.jsx)("div",{className:"".concat(e,"__item-dots")}),Object(a.jsx)("button",{onClick:b,children:"X"})]},t)}))})}f.defaultProps={id:"list-items",className:"list-items",items:[],updateItems:function(t){}};var b=f;n(20);function j(t){var e=t.id,n=t.className,o=t.title,r=t.fieldName,i=t.listDidUpdate,s=Object(c.useState)([]),f=Object(u.a)(s,2),j=f[0],h=f[1],d=Object(c.useState)(""),O=Object(u.a)(d,2),m=O[0],p=O[1],v=Object(c.useRef)(j),g=function(t){v.current=t,h(t)},N=Object(c.useRef)(null);Object(c.useEffect)((function(){var t=N.current;return t.addEventListener("keyup",_),function(){t.removeEventListener("keyup",_)}}),[]),Object(c.useEffect)((function(){i(j),x()}),[j]);var _=function(t){x(),13===t.keyCode&&y()},x=function(){return function(t){return v.current.includes(t)}(N.current.value.trim())?(p("".concat(r," already exist!")),!1):(p(""),!0)},y=function(t){var e=N.current,n=e.value.trim();e.focus(),""!==n?x()&&(g([].concat(Object(l.a)(v.current),[n])),e.value=""):p("".concat(r," cannot be blank!"))};return Object(a.jsxs)("div",{id:e,className:n,children:[Object(a.jsx)("h1",{className:"".concat(n,"__title"),children:o}),Object(a.jsxs)("label",{className:"".concat(n,"__lbl"),htmlFor:"".concat(e,"__input"),children:[Object(a.jsx)("span",{className:"".concat(n,"__lbl-span"),children:"".concat(r,":")}),Object(a.jsx)("input",{id:"".concat(e,"__input"),className:m?"".concat(n,"__input-txt ").concat(n,"__input-txt--err"):"".concat(n,"__input-txt"),type:"text",ref:N,onBlur:function(t){""===N.current.value.trim()&&p("")}}),Object(a.jsx)("span",{className:"err-msg",children:m})]}),Object(a.jsx)("button",{className:"".concat(n,"__btn"),onClick:y,children:"Add"}),Object(a.jsx)(b,{items:j,updateItems:function(t){g(Object(l.a)(t))}})]})}j.defaultProps={id:"add-items",className:"add-items",title:"Adding Items...",fieldName:"Item",listDidUpdate:function(){}};var h=j;function d(t){return Object(a.jsx)(h,Object(s.a)({},t))}d.defaultProps={id:"add-people",title:"Adding People...",fieldName:"Name",listDidUpdate:function(){}};var O=d,m=n(5),p=n(6),v=n(12),g=n(11),N=function(){function t(e,n){Object(m.a)(this,t),this.description=e,this.amount=n}return Object(p.a)(t,[{key:"getDescription",value:function(){return this.description}},{key:"getAmount",value:function(){return this.amount}},{key:"setAmount",value:function(t){this.amount=t}},{key:"equals",value:function(t){return JSON.stringify(this)===JSON.stringify(t)}},{key:"toString",value:function(){return"".concat(this.description,": $").concat(P(this.amount))}}]),t}(),_=function(t){Object(v.a)(n,t);var e=Object(g.a)(n);function n(t,a){var c;return Object(m.a)(this,n),(c=e.call(this,t,a)).PAYABLE_TRANSACTION_DESC_PREFIX="pay to ",c.description="".concat(c.PAYABLE_TRANSACTION_DESC_PREFIX).concat(t),c}return Object(p.a)(n,[{key:"getPersonToPayTo",value:function(){var t=new RegExp("(".concat(this.PAYABLE_TRANSACTION_DESC_PREFIX,")*"),"i");return this.description.replace(t,"")}}]),n}(N),x=function(){function t(e){Object(m.a)(this,t),this.person=e,this.transactions=[],this.payableTransactions=[]}return Object(p.a)(t,[{key:"getTransactions",value:function(){return this.transactions}},{key:"addTransaction",value:function(t){this.transactions=[].concat(Object(l.a)(this.transactions),[t])}},{key:"getPayableTransactions",value:function(){return this.payableTransactions}},{key:"addPayableTransaction_old",value:function(t){var e=t.getDescription(),n=t.getAmount(),a=this.payableTransactions.find((function(t){return t.getDescription()===e}));if(a){var c=a.getAmount();a.setAmount(c+n)}else this.payableTransactions=[].concat(Object(l.a)(this.payableTransactions),[t])}},{key:"addPayableTransaction",value:function(t,e){var n=new _(t,e),a=this.payableTransactions.find((function(e){return e.getPersonToPayTo()===t}));if(a){var c=a.getAmount();a.setAmount(c+e)}else this.payableTransactions=[].concat(Object(l.a)(this.payableTransactions),[n])}},{key:"findPayableTransaction",value:function(t){return this.payableTransactions.find((function(e){return e.getPersonToPayTo()===t}))}},{key:"deletePayableTransaction",value:function(t){this.payableTransactions=this.payableTransactions.filter((function(e){return!e.equals(t)}))}},{key:"toString",value:function(){var t="".concat(this.person,":\n");return this.transactions.forEach((function(e){t+="  ".concat(e.toString(),"\n")})),t+="  ----------\n",this.payableTransactions.forEach((function(e){t+="  ".concat(e.toString(),"\n")})),t+="  ==========\n\n"}}]),t}(),y=function(t){var e="_";return e+=t.replaceAll(/[~ ! @ $ % ^ & * ( ) + = , . / \u2018 ; : \u201d ? > < \[ \] \\ { } | ` #]/g,"-").replaceAll("--","-")},T=function(t){return void 0===t||null===t||0===t.length},S=function(t){return void 0===t||null===t||JSON.stringify({})===JSON.stringify(t)},P=function(t){var e=function(t){return Math.round(100*t)/100}(t),n=String(e),a=new RegExp("^-*\\d+$","i");if(n.match(a))return n;var c=new RegExp("^-*\\d+\\.\\d$","i");return n.match(c)?"".concat(n,"0"):n};n(21);function E(t){var e=t.id,n=t.className,o=t.name,r=t.options,i=t.onChange,s=Object(c.useState)(!1),l=Object(u.a)(s,2),f=l[0],b=l[1],j=Object(c.useState)({}),h=Object(u.a)(j,2),d=h[0],O=h[1],m=Object(c.useRef)(null);Object(c.useEffect)((function(){p()}),[r]),Object(c.useEffect)((function(){var t=m.current;t.value=d,i({currentTarget:t})}),[d]);var p=function(){var t=m.current,e={};t.querySelectorAll('input[type="checkbox"]').forEach((function(t){e[t.value]=t.checked})),O(e)};return Object(a.jsxs)("div",{id:e,className:n,ref:m,children:[r.map((function(t){var c=y(t);return Object(a.jsxs)("label",{htmlFor:"".concat(e,"__").concat(c),children:[Object(a.jsx)("input",{id:"".concat(e,"__").concat(c),className:"".concat(n,"__checkbox"),type:"checkbox",name:o,value:t,onChange:function(t){p()}}),Object(a.jsx)("span",{children:t})]},t)})),Object(a.jsx)("button",{onClick:function(){m.current.querySelectorAll('input[type="checkbox"]').forEach((function(t){t.checked=!f})),b(!f),p()},children:"Select/Deselect All"})]})}E.defaultProps={id:"",className:"checkbox-group",name:"",options:[],onChange:function(){}};var A=E;n(22);function C(t){t.id;var e=t.className,n=t.title,o=t.itemName,r=t.people,i=t.onChange,s=Object(c.useState)({}),l=Object(u.a)(s,2),f=l[0],b=l[1],j=Object(c.useRef)(null);return Object(c.useEffect)((function(){var t=j.current;t.value=f,i({currentTarget:t})}),[f]),Object(a.jsxs)("div",{className:e,ref:j,children:[Object(a.jsxs)("h1",{className:"".concat(e,"__title"),children:["".concat(n," "),Object(a.jsx)("span",{className:"".concat(e,"__item-name"),children:o})]}),Object(a.jsx)(A,{id:y(o),name:y(o),options:r,onChange:function(t){var e=t.currentTarget,n={};n[o]=e.value,b(n)}})]})}C.defaultProps={id:"",className:"who-sharing",title:"Who Sharing...",itemName:"",people:[],onChange:function(){}};var w=C;n(23);function k(t){var e=t.id,n=t.className,o=t.title,r=t.itemName,i=t.fieldName,s=t.onChange,l=Object(c.useState)({}),f=Object(u.a)(l,2),b=f[0],j=f[1],h=Object(c.useState)(""),d=Object(u.a)(h,2),O=d[0],m=d[1],p=Object(c.useRef)(null),v=Object(c.useRef)(null);Object(c.useEffect)((function(){var t=p.current;t.value=b,s({currentTarget:t})}),[b]);return Object(a.jsxs)("div",{id:e,className:n,ref:p,children:[Object(a.jsxs)("h1",{className:"".concat(n,"__title"),children:["".concat(o," "),Object(a.jsx)("span",{className:"".concat(n,"__item-name"),children:r})]}),Object(a.jsxs)("label",{className:"".concat(n,"__lbl"),htmlFor:"".concat(e,"__input"),children:[Object(a.jsx)("span",{className:"".concat(n,"__lbl-span"),children:"".concat(i,":")}),Object(a.jsx)("input",{id:"".concat(e,"__input"),className:O?"".concat(n,"__input-txt ").concat(n,"__input-txt--err"):"".concat(n,"__input-txt"),type:"number",step:"0.01",min:"0",ref:v,onChange:function(t){!function(){var t=v.current,e=parseFloat(t.value);if(isNaN(e))m("Please input valid number.");else if(t.min&&e<t.min)m("Value must not be lesser than ".concat(t.min,"."));else{if(!(t.max&&e>t.max))return m(""),!0;m("Value must not be more than ".concat(t.max,"."))}}();var e=v.current,n={},a=parseFloat(e.value);n[r]=a,j(n)}}),Object(a.jsx)("span",{className:"err-msg",children:O})]}),Object(a.jsx)("button",{className:"".concat(n,"__btn"),children:"OK"})]})}k.defaultProps={id:"what-cost",className:"what-cost",title:"What is the Cost of ...",itemName:"",fieldName:"Cost ($)",onChange:function(){}};var J=k;function R(t){var e=t.id,n=t.className,o=t.name,r=t.options,i=Object(c.useState)(!1),s=Object(u.a)(i,2);s[0],s[1];return Object(a.jsx)("div",{id:e,className:n,children:r.map((function(t){var c=y(t);return Object(a.jsxs)("label",{htmlFor:"".concat(e,"__").concat(c),children:[Object(a.jsx)("span",{children:"".concat(t,":")}),Object(a.jsx)("input",{id:"".concat(e,"__").concat(c),className:"".concat(n,"__radio"),name:o,type:"radio"})]},t)}))})}R.defaultProps={id:"",className:"radio-group",name:"",options:[],onSelect:function(){}};function D(t){var e=t.id,n=t.className,o=t.fieldName,r=t.options,i=t.errorMsg,s=t.onChange,f=Object(c.useState)(null),b=Object(u.a)(f,2),j=b[0],h=b[1],d=Object(c.useRef)(null),O=Object(c.useRef)(null),m=["Please choose..."].concat(Object(l.a)(r));return Object(c.useEffect)((function(){O.current.value=m[0]}),[]),Object(c.useEffect)((function(){m.includes(j)||(O.current.value=m[0],h(null))}),[r]),Object(c.useEffect)((function(){var t=d.current;t.value=j,s({currentTarget:t})}),[j]),Object(a.jsxs)("label",{htmlFor:e,ref:d,children:[Object(a.jsx)("span",{children:o?"".concat(o,":"):""}),Object(a.jsx)("select",{id:e,className:n,ref:O,onChange:function(t){var e=O.current;h(e.value)},children:m.map((function(t,e){return Object(a.jsx)("option",{disabled:0===e,children:t},t)}))}),Object(a.jsx)("span",{className:"err-msg",children:i})]})}D.defaultProps={id:"",className:"",fieldName:"",options:[],errorMsg:"",onChange:function(){}};var F=D;n(24);function I(t){var e=t.idPrefix,n=t.className,o=t.title,r=t.itemName,i=t.people,s=t.onChange,l=Object(c.useState)({}),f=Object(u.a)(l,2),b=f[0],j=f[1],h=Object(c.useState)(""),d=Object(u.a)(h,2),O=(d[0],d[1],Object(c.useRef)(null));Object(c.useRef)(null);return Object(c.useEffect)((function(){var t=O.current;t.value=b,s({currentTarget:t})}),[b]),Object(a.jsxs)("div",{id:"".concat(e,"-").concat(y(r)),className:n,ref:O,children:[Object(a.jsxs)("h1",{className:"".concat(n,"__title"),children:["".concat(o," "),Object(a.jsx)("span",{className:"".concat(n,"__item-name"),children:r})]}),Object(a.jsx)(F,{id:"".concat(e,"-").concat(y(r),"__combobox"),options:i,errorMsg:"",onChange:function(t){var e=t.currentTarget,n={};e.value?(n[r]=e.value,j(n)):j(null)}}),Object(a.jsx)("button",{children:"OK"})]})}I.defaultProps={idPrefix:"who-paid",className:"who-paid",title:"Who Paid for ...",itemName:"",people:[],onChange:function(){}};var L=I,B=function(t){var e=t.people,n=t.items,a=t.whoSharingJson,c=t.whatCostJson,o=t.whoPaidJson;if(T(e)||T(n)||S(a)||S(c)||S(o))return null;var r={};e.forEach((function(t){r[t]=new x(t)})),n.forEach((function(t){var e=c[t],n=o[t],a=r[n];a&&a.addTransaction(new N(t,-e))})),n.forEach((function(t){var n=c[t],o=a[t];if(o){var i=e.filter((function(t){return o[t]})),s=n/i.length;i.forEach((function(e){r[e].addTransaction(new N(t,s))}))}}));for(var i=function(){var t=Object(u.a)(l[s],2),e=t[0],n=t[1];n.getTransactions().filter((function(t){return t.getAmount()>0})).filter((function(t){var n=t.getDescription(),a=o[n];return e!=a})).forEach((function(t){var e=t.getDescription(),a=t.getAmount(),c=o[e];c&&n.addPayableTransaction(c,a)}))},s=0,l=Object.entries(r);s<l.length;s++)i();for(var f=0,b=Object.entries(r);f<b.length;f++){var j=Object(u.a)(b[f],2),h=j[0],d=(j[1],$(h,r));q(d)}console.log(JSON.stringify(r,null,2));for(var O=0,m=Object.entries(r);O<m.length;O++){var p=Object(u.a)(m[O],2),v=(p[0],p[1]);console.log(v.toString())}return M({people:e,whoSharingJson:a,whatCostJson:c,whoPaidJson:o}),r},$=function(t,e){var n=[],a=e[t];return a.getPayableTransactions().forEach((function(c){var o=c.getPersonToPayTo(),r=e[o];r.getPayableTransactions().forEach((function(e){if(e.getPersonToPayTo()===t){var o=[{ledger:a,payableTransaction:c},{ledger:r,payableTransaction:e}];n.push(o)}}))})),n},q=function(t){t.forEach((function(t){var e=t[0].ledger,n=t[0].payableTransaction,a=t[1].ledger,c=t[1].payableTransaction;n.getAmount()>c.getAmount()?(n.setAmount(n.getAmount()-c.getAmount()),a.deletePayableTransaction(c)):n.getAmount()<c.getAmount()?(c.setAmount(c.getAmount()-n.getAmount()),e.deletePayableTransaction(n)):(e.deletePayableTransaction(n),a.deletePayableTransaction(c))}))},M=function(t){for(var e=t.people,n=t.whoSharingJson,a=t.whatCostJson,c=t.whoPaidJson,o="",r=0,i=Object.entries(c);r<i.length;r++){var s=Object(u.a)(i[r],2),l=s[0],f=s[1],b=P(a[l]);o+="".concat(f," has paid $").concat(b," for ").concat(l,".\n")}for(var j=function(){var t=Object(u.a)(d[h],2),n=t[0],a=t[1];if(S(a))return o+="Nobody is sharing the ".concat(n,".\n"),"continue";for(var c=[],r=[],i=0,s=Object.entries(a);i<s.length;i++){var l=Object(u.a)(s[i],2),f=l[0];l[1]?c.push(f):r.push(f)}e.length===c.length?o+="Everyone is sharing the ".concat(n,".\n"):e.length===r.length?o+="Nobody is sharing the ".concat(n,".\n"):(c.forEach((function(t,e){0===e||(e===c.length-1?o+=" and ":o+=", "),o+=t})),o+=" is sharing the ".concat(n,".\n"))},h=0,d=Object.entries(n);h<d.length;h++)j();return console.log(o),o};n(25);var U=function(){var t=Object(c.useState)([]),e=Object(u.a)(t,2),n=e[0],o=e[1],r=Object(c.useState)([]),i=Object(u.a)(r,2),l=i[0],f=i[1],b=Object(c.useState)(""),j=Object(u.a)(b,2),d=j[0],m=j[1],p=Object(c.useState)(0),v=Object(u.a)(p,2),g=(v[0],v[1],Object(c.useRef)(null),Object(c.useState)({})),N=Object(u.a)(g,2),_=N[0],x=N[1],y=Object(c.useState)({}),T=Object(u.a)(y,2),S=T[0],P=T[1],E=Object(c.useState)({}),A=Object(u.a)(E,2),C=A[0],k=A[1];Object(c.useEffect)((function(){_&&(Object.keys(_).filter((function(t){return!l.includes(t)})).forEach((function(t){delete _[t],delete S[t],delete C[t]})),x(Object(s.a)({},_)),P(Object(s.a)({},S)),k(Object(s.a)({},C)))}),[l]),Object(c.useEffect)((function(){m(function(t){var e=t.people,n=t.items,a=t.whoSharingJson,c=t.whatCostJson,o=t.whoPaidJson,r=B({people:e,items:n,whoSharingJson:a,whatCostJson:c,whoPaidJson:o});if(!r)return"";var i=M({people:e,items:n,whoSharingJson:a,whatCostJson:c,whoPaidJson:o});i+="********************\n\n";for(var s=0,l=Object.entries(r);s<l.length;s++){var f=Object(u.a)(l[s],2);f[0],i+=f[1].toString()}return i}({people:n,items:l,whoSharingJson:_,whatCostJson:S,whoPaidJson:C}))}),[_,S,C]);var R=function(t){o(t)},D=function(t){f(t)};return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(O,{listDidUpdate:R}),Object(a.jsx)(h,{listDidUpdate:D}),l.map((function(t){return Object(a.jsx)(w,{itemName:t,people:n,onChange:function(t){var e=t.currentTarget;x((function(t){var n=Object(s.a)(Object(s.a)({},t),e.value);return console.log(n),n}))}},t)})),l.map((function(t){return Object(a.jsx)(L,{itemName:t,people:n,onChange:function(e){var n=e.currentTarget;n.value?k((function(t){var e=Object(s.a)(Object(s.a)({},t),n.value);return console.log(e),e})):k((function(e){delete e[t];var n=Object(s.a)({},e);return console.log(n),n}))}},t)})),l.map((function(t){return Object(a.jsx)(J,{itemName:t,onChange:function(t){var e=t.currentTarget,n=Object(s.a)(Object(s.a)({},S),e.value);console.log(n),P(n)}},t)})),Object(a.jsx)("pre",{className:"App__results code",children:d})]})},X=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,27)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,o=e.getLCP,r=e.getTTFB;n(t),a(t),c(t),o(t),r(t)}))};i.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(U,{})}),document.getElementById("root")),X()}},[[26,1,2]]]);
//# sourceMappingURL=main.a1459faa.chunk.js.map